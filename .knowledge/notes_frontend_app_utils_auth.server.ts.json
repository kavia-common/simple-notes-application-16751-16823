{"is_source_file": true, "format": "TypeScript", "description": "Source file containing server-side authentication utilities for handling auth cookies, token extraction, and user validation in a Remix application.", "external_files": ["@remix-run/node", "./api"], "external_methods": ["createCookie", "getTokenFromCookie", "meRequest"], "published": ["authCookie", "getAuthToken", "requireUserToken", "getUserFromRequest"], "classes": [], "methods": [{"name": "export async function getAuthToken(request: Request): Promise<string | null> { getAuthToken", "description": "Extracts the authentication token from the request cookies or falls back to an API call if necessary.", "scope": "", "scopeKind": ""}, {"name": "export async function requireUserToken(args: LoaderFunctionArgs) { requireUserToken", "description": "Ensures a user is authenticated, redirecting to /login if not, and returns the token if valid.", "scope": "", "scopeKind": ""}, {"name": "export async function getUserFromRequest(request: Request) { getUserFromRequest", "description": "Retrieves the user object based on the token in the request; returns null if token is invalid or missing.", "scope": "", "scopeKind": ""}], "calls": ["authCookie.parse", "getTokenFromCookie", "meRequest"], "search-terms": ["authCookie", "getAuthToken", "requireUserToken", "getUserFromRequest", "server-side auth utilities", "Remix cookies"], "state": 2, "file_id": 15, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "authCookie", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^export const authCookie = createCookie(\"auth_token\", {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "cookieHeader", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^  const cookieHeader = request.headers.get(\"Cookie\");$/", "language": "TypeScript", "kind": "constant", "scope": "getAuthToken", "scopeKind": "function"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^export async function getAuthToken(request: Request): Promise<string | null> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getUserFromRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^export async function getUserFromRequest(request: Request) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^  const parsed = await authCookie.parse(cookieHeader);$/", "language": "TypeScript", "kind": "constant", "scope": "getAuthToken", "scopeKind": "function"}, {"_type": "tag", "name": "requireUserToken", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^export async function requireUserToken(args: LoaderFunctionArgs) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^  const token = await getAuthToken(args.request);$/", "language": "TypeScript", "kind": "constant", "scope": "requireUserToken", "scopeKind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^  const token = await getAuthToken(request);$/", "language": "TypeScript", "kind": "constant", "scope": "getUserFromRequest", "scopeKind": "function"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/auth.server.ts", "pattern": "/^    const user = await meRequest(token);$/", "language": "TypeScript", "kind": "constant", "scope": "getUserFromRequest", "scopeKind": "function"}], "hash": "362bee37a0698801d65371c76f706388", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/app/utils/auth.server.ts", "revision_history": [{"31": ""}]}