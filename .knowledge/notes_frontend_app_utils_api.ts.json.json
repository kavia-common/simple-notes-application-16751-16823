{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for interacting with a REST API, including user authentication and note management operations; it defines data types, builds request headers, and wraps fetch calls with error handling.", "external_files": ["node-fetch", "process.env", "import.meta.env"], "external_methods": ["fetch"], "published": ["Note", "AuthUser", "AuthResponse", "getTokenFromCookie", "buildHeaders", "apiFetch", "loginRequest", "registerRequest", "meRequest", "listNotesRequest", "getNoteRequest", "createNoteRequest", "updateNoteRequest", "deleteNoteRequest"], "classes": [], "methods": [{"name": "export function getTokenFromCookie(cookieHeader?: string | null): string | null { getTokenFromCookie", "description": "Extracts authentication token from cookie header string.", "scope": "", "scopeKind": ""}, {"name": "export function buildHeaders(token?: string | null) { buildHeaders", "description": "Constructs request headers with Content-Type and optional Authorization.", "scope": "", "scopeKind": ""}, {"name": "export async function apiFetch<T>( apiFetch", "description": "Wrapper around fetch API to handle HTTP requests, parsing response, and error handling.", "scope": "", "scopeKind": ""}, {"name": "export async function loginRequest(email: string, password: string) { loginRequest", "description": "Sends a login request with email and password, returns auth response.", "scope": "", "scopeKind": ""}, {"name": "export async function registerRequest(email: string, password: string) { registerRequest", "description": "Sends a registration request with email and password, returns auth response.", "scope": "", "scopeKind": ""}, {"name": "export async function meRequest(token: string) { meRequest", "description": "Fetches current authenticated user's profile using the provided token.", "scope": "", "scopeKind": ""}, {"name": "export async function listNotesRequest( listNotesRequest", "description": "Retrieves list of notes with optional filters.", "scope": "", "scopeKind": ""}, {"name": "export async function getNoteRequest(token: string, id: string) { getNoteRequest", "description": "Fetches a single note by its ID.", "scope": "", "scopeKind": ""}, {"name": "export async function createNoteRequest( createNoteRequest", "description": "Creates a new note with specified title, content, and tags.", "scope": "", "scopeKind": ""}, {"name": "export async function updateNoteRequest( updateNoteRequest", "description": "Updates an existing note identified by ID.", "scope": "", "scopeKind": ""}, {"name": "export async function deleteNoteRequest(token: string, id: string) { deleteNoteRequest", "description": "Deletes a note specified by ID.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "decodeURIComponent", "JSON.stringify", "res.headers.get", "res.json", "res.text", "apiFetch"], "search-terms": ["api utils", "Note type", "auth token", "REST API interaction", "fetch wrapper", "notes endpoints", "user authentication"], "state": 2, "file_id": 14, "knowledge_revision": 54, "git_revision": "", "revision_history": [{"29": ""}, {"54": ""}], "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^const API_BASE =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "AuthResponse", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export type AuthResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "AuthUser", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export type AuthUser = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export type Note = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function apiFetch<T>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export function buildHeaders(token?: string | null) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "contentType", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const contentType = res.headers.get(\"content-type\");$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "cookies", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const cookies = cookieHeader.split(\";\").map((c) => c.trim());$/", "language": "TypeScript", "kind": "constant", "scope": "getTokenFromCookie", "scopeKind": "function"}, {"_type": "tag", "name": "createNoteRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function createNoteRequest($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteNoteRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function deleteNoteRequest(token: string, id: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getNoteRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function getNoteRequest(token: string, id: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getTokenFromCookie", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export function getTokenFromCookie(cookieHeader?: string | null): string | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const headers: Record<string, string> = {$/", "language": "TypeScript", "kind": "constant", "scope": "buildHeaders", "scopeKind": "function"}, {"_type": "tag", "name": "listNotesRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function listNotesRequest($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "loginRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function loginRequest(email: string, password: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "meRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function meRequest(token: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^    const message =$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const params = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "listNotesRequest", "scopeKind": "function"}, {"_type": "tag", "name": "registerRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function registerRequest(email: string, password: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "suffix", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const suffix = params.toString() ? `?${params.toString()}` : \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "listNotesRequest", "scopeKind": "function"}, {"_type": "tag", "name": "tokenCookie", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const tokenCookie = cookies.find((c) => c.startsWith(\"auth_token=\"));$/", "language": "TypeScript", "kind": "constant", "scope": "getTokenFromCookie", "scopeKind": "function"}, {"_type": "tag", "name": "updateNoteRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^export async function updateNoteRequest($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const url = `${API_BASE}${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/simple-notes-application-16751-16823/notes_frontend/app/utils/api.ts", "pattern": "/^  const [, value] = tokenCookie.split(\"=\");$/", "language": "TypeScript", "kind": "constant", "scope": "getTokenFromCookie", "scopeKind": "function"}], "hash": "b92a7dd0030816f5c8c8f655602ed423", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/app/utils/api.ts"}